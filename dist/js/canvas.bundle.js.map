{"version":3,"sources":["webpack:///webpack/bootstrap 36c3b4600a6dc86f608c","webpack:///./src/canvas.js"],"names":["canvas","document","querySelector","c","getContext","width","innerWidth","height","innerHeight","canvasWith","window","canvasHeight","fullScreen","webkitRequestFullScreen","mozRequestFullScreen","getElementById","addEventListener","randomIntFromRange","min","max","Math","floor","random","randomColor","colors","length","AudioContext","webkitAudioContext","mozAudioContext","audioCtx","audioBuffer","audioSource","analyser","createAnalyser","frequencyData","Uint8Array","frequencyBinCount","timeToBegin","bassValue","kickValue","melodyValue","bassTimestamp","kickTimestamp","melodyTimestamp","bassInterval","kickInterval","melodyInterval","DELTA_TIME","LAST_TIME","Date","now","opts","barWidth","ballNumber","ballsTypes","ballsArray","ballsBassArray","ballsKickArray","ballsMelodyArray","ball","radius","opacity","friction","gravity","beginningX","beginningY","beginningVx","beginningVy","ballsBass","ballsKick","ballsMelody","Ball","x","y","vx","vy","color","lineWidth","strokeColor","update","draw","beginPath","arc","PI","fillStyle","fill","closePath","loadSound","url","request","XMLHttpRequest","open","responseType","onload","decodeAudioData","response","buffer","createBufferSource","connect","destination","frame","send","init","rect","i","push","slice","setTimeout","forEach","start","requestAnimationFrame","getByteFrequencyData","fillRect","averageData","currentAverage","cumul","begin","end","j","bassAverage","kickAverage","melodyAverage","canBass","canKick","canMelody"],"mappings":"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","file":"canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 36c3b4600a6dc86f608c","/*\n Canvas stuff\n */\nconst canvas = document.querySelector('canvas');\nconst c = canvas.getContext('2d');\ncanvas.width = innerWidth;\ncanvas.height = innerHeight;\nvar canvasWith = window.innerWidth;\nvar canvasHeight = window.innerHeight;\n\n\n\n/*\n Functions\n */\nfunction fullScreen () {\n    if(canvas.webkitRequestFullScreen) {\n        canvas.webkitRequestFullScreen();\n    }\n    else {\n        canvas.mozRequestFullScreen();\n    }\n}\ndocument.getElementById('fullScreen').addEventListener('click', fullScreen);\n\n\nfunction randomIntFromRange(min,max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction randomColor(colors) {\n    return colors[Math.floor(Math.random() * colors.length)];\n}\n\n\n\n/*\n Audio Stuff\n */\nwindow.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;\nvar audioCtx = new AudioContext();\nvar audioBuffer;\nvar audioSource;\nvar analyser = audioCtx.createAnalyser();\nvar frequencyData = new Uint8Array(analyser.frequencyBinCount);\n\nvar timeToBegin = 2000;\n\nvar bassValue = 115;\nvar kickValue = 8;\nvar melodyValue = 6;\n\nvar bassTimestamp = 0;\nvar kickTimestamp = 0;\nvar melodyTimestamp = 0;\n\n\nvar bassInterval = 1150;\nvar kickInterval = 1200;\nvar melodyInterval = 400;\n\n\n// Time stuff\nvar DELTA_TIME = 0;\nvar LAST_TIME = Date.now();\n\n// To delete\nvar opts = {\n    barWidth: 10\n}\n\n\n\n/*\n Ball Stuff\n */\nvar ballNumber = 100;\nvar ballsTypes = 3;\nvar ballsArray = [];\nvar ballsBassArray = [];\nvar ballsKickArray = [];\nvar ballsMelodyArray = [];\n\nvar ball;\nvar radius = 45;\nvar opacity = 0.85;\nvar friction = 0.6;\nvar gravity = 2.5;\n\nvar beginningX = canvas.width / 2;\nvar beginningY = canvas.height / 2;\nvar beginningVx = 0;\nvar beginningVy = 3;\n\nvar ballsBass = Math.floor(ballNumber / 3);\nvar ballsKick = Math.floor((ballNumber - ballsBass) / 2);\nvar ballsMelody = ballNumber - (ballsBass + ballsKick);\n\nconst colors = [\n    'rgb(138, 230, 176)',\n    'rgba(124, 186, 191,' + opacity + '',\n    'rgba(107, 126, 153,' + opacity + ''\n];\n\n\n\n// Object\nfunction Ball(x, y, vx, vy, radius, color, lineWidth, strokeColor) {\n\tthis.x = x;\n\tthis.y = y;\n\tthis.vx = vx;\n\tthis.vy = vy;\n\tthis.radius = radius;\n\tthis.color = color;\n\n\tthis.update = () => {\n\t\t// Gravity of the ball\n\t\tif (this.y + this.radius + this.vy > canvas.height) {\n\t\t\tthis.vy = -this.vy * friction;\n\t\t\tthis.vx = this.vx * friction;\n\t\t} else {\n\t\t\tthis.vy += gravity\n\t\t}\n\n\t\tif (this.x + this.radius + this.vx > canvas.width || this.x - this.radius <= 0) {\n\t\t\tthis.vx = -this.vx * friction\n\t\t}\n\n\t\tthis.x += this.vx;\n\t\tthis.y += this.vy;\n\t\tthis.draw();\n\t};\n\n\tthis.draw = () => {\n\t\tc.beginPath();\n\t\tc.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n\t\tc.fillStyle = this.color;\n\t\tc.fill();\n\t\tc.closePath();\n\t};\n}\n\n\n\nfunction loadSound(url) {\n    var request = new XMLHttpRequest();\n    request.open('GET', './sounds/sound.mp3', true);\n    request.responseType = 'arraybuffer';\n\n    // Decode asynchronously\n    request.onload = function() {\n\n        audioCtx.decodeAudioData(request.response, function(buffer) {\n\n            // success callback\n            audioBuffer = buffer;\n\n            // Create sound from buffer\n            audioSource = audioCtx.createBufferSource();\n            audioSource.buffer = audioBuffer;\n\n            // connect the audio source to context's output\n            audioSource.connect( analyser )\n            analyser.connect( audioCtx.destination )\n            frame()\n\n        }, function(){\n\n            // error callback\n            //\n        });\n    }\n    request.send();\n}\n\n\n\nfunction init() {\n\t// Draw background rectangle\n\tc.beginPath();\n\tc.rect(0,0,canvas.width,canvas.height);\n\tc.fillStyle = 'rgb(75, 61, 77)';\n\tc.fill();\n\tc.closePath();\n\n\t// Clear tab while resizing the canvas\n\tballsArray = [];\n\n\tfor (var i = 0; i < ballsBass; i++) {\n\t\tballsArray.push(new Ball(beginningX, beginningY + 8, beginningVx, beginningVy, radius - 8 , colors[0], 3, colors[1]))\n\t}\n\n\tfor (var i = 0; i < ballsKick; i++) {\n\t\tballsArray.push(new Ball(beginningX, beginningY + 4, beginningVx, beginningVy, radius - 4, colors[1], 3, colors[2]));\n\t}\n\n\tfor (var i = 0; i < ballsMelody; i++) {\n\t\tballsArray.push(new Ball(beginningX, beginningY, beginningVx, beginningVy, radius, colors[2], 3, colors[0]));\n\t}\n\n\t// Slice ballsArray for 3 independent tabs\n    ballsBassArray = ballsArray.slice(1, ballsBass);\n    ballsKickArray = ballsArray.slice(ballsBass, ballsBass + ballsKick);\n    ballsMelodyArray = ballsArray.slice(ballsBass + ballsKick, ballsArray.length);\n\n\n    // First explosion\n\tsetTimeout(function () {\n\t\tballsArray.forEach(ball => {\n\t\t\tball.vx = randomIntFromRange(-30, 30);\n\t\t\tball.vy = randomIntFromRange(10, 100);\n    \t})\n        audioSource.start();\n    }, timeToBegin);\n}\n\n\n\nfunction frame() {\n    requestAnimationFrame( frame )\n\n    DELTA_TIME = Date.now() - LAST_TIME;\n    LAST_TIME = Date.now();\n\n    // analyser.getByteFrequencyData(frequencyData);\n    analyser.getByteFrequencyData(frequencyData);\n\n\n    c.fillStyle = 'rgba(75, 61, 77, 0.7';\n    c.fillRect(0, 0, canvas.width, canvas.height);\n\n    // Average frequencies\n    var averageData = [];\n    for (var i = 0; i <= (ballsTypes - 1); i++) {\n        let currentAverage = 0;\n        let cumul = 0;\n\n        let begin = Math.floor( ((frequencyData.length - 1) / ballsTypes) * i );\n        let end = Math.floor( ((frequencyData.length - 1) / ballsTypes) * (i + 1));\n\n        for (let j = begin; j < end; j++) {\n            cumul += frequencyData[j];\n        }\n\n        currentAverage = cumul / (end - begin);\n        averageData.push(currentAverage);\n    }\n\n    /**\n     * Balls animations\n     */\n    var bassAverage = averageData[0];\n    var kickAverage = averageData[2];\n    var melodyAverage = averageData[2];\n\n    bassTimestamp += DELTA_TIME;\n    var canBass = ( bassTimestamp > bassInterval );\n    if (bassAverage > bassValue && canBass) {\n        bassTimestamp = 0;\n\n        ballsBassArray.forEach(ball => {\n            ball.vx = randomIntFromRange(-30, 30);\n            ball.vy = randomIntFromRange(10, 92);\n        })\n    }\n\n    kickTimestamp += DELTA_TIME;\n    var canKick = ( kickTimestamp > kickInterval );\n    if (kickAverage > kickValue && canKick) {\n        kickTimestamp = 0;\n\n        c.beginPath();\n        c.rect(0,0,canvas.width,canvas.height);\n        c.fillStyle = 'rgb(93, 86, 115)';\n        c.fill();\n        c.closePath();\n\n        ballsKickArray.forEach(ball => {\n            ball.vx = randomIntFromRange(-25, 25);\n            ball.vy = randomIntFromRange(10, 75);\n        })\n    }\n\n\n    melodyTimestamp += DELTA_TIME;\n    var canMelody = ( melodyTimestamp > melodyInterval );\n    if (melodyAverage > melodyValue && canMelody) {\n        melodyTimestamp = 0;\n\n        ballsMelodyArray.forEach(ball => {\n            ball.vx = randomIntFromRange(-20, 20);\n            ball.vy = randomIntFromRange(10, 45);\n        })\n    }\n\n    ballsArray.forEach(ball => {\n        ball.update();\n    })\n}\n\ninit();\nloadSound()\n\n\n// WEBPACK FOOTER //\n// ./src/canvas.js"],"sourceRoot":""}